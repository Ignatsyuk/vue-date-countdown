(function(o,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(o=typeof globalThis<"u"?globalThis:o||self,e(o.DateCountdown={},o.Vue))})(this,function(o,e){"use strict";const y={class:"date-countdown"},c={__name:"DateCountdown",props:{endDate:{type:[Date,Number,String],required:!0},startDate:{type:[Date,Number,String],default:new Date},endText:{type:String,default:"0 seconds"}},setup(r){const u=r,h=e.useSlots(),i=e.ref(100),p=e.ref(void 0),n=e.ref({days:1,hours:1,minutes:1,seconds:1}),s=e.computed(()=>{const t=a=>Number(a)>9?a:`0${a}`;return{days:t(n.value.days),hours:t(n.value.hours),minutes:t(n.value.minutes),seconds:t(n.value.seconds)}}),f=e.computed(()=>{const{seconds:t,minutes:a,hours:l,days:d}=n.value;return!(t>0||a>0||l>0||d>0)});e.onMounted(()=>{m(),p.value=setInterval(m,1e3)}),e.onUnmounted(D);function m(){if(f.value)return D();S(),w()}function S(){const t=Date.parse(new Date(u.endDate).toString())-Date.parse(new Date().toString());t>=0?(n.value.seconds=Math.floor(t/1e3%60),n.value.minutes=Math.floor(t/1e3/60%60),n.value.hours=Math.floor(t/(1e3*60*60)%24),n.value.days=Math.floor(t/(1e3*60*60*24))):(n.value.seconds=n.value.minutes=n.value.hours=n.value.days=0,i.value=0)}function w(){let t=Date.parse(new Date(u.startDate).toString()),a=Date.parse(new Date().toString()),l=Date.parse(new Date(u.endDate).toString()),d=parseFloat((a-t)/(l-t)*100).toFixed(2);i.value=100-d}function D(){clearTimeout(p.value),i.value=0}return(t,a)=>(e.openBlock(),e.createElementBlock("span",y,[f.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(r.endText),1)],64)):e.unref(h).default?e.renderSlot(t.$slots,"default",{key:1,days:s.value.days,hours:s.value.hours,minutes:s.value.minutes,seconds:s.value.seconds}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[e.createTextVNode(e.toDisplayString(s.value.days)+":"+e.toDisplayString(s.value.hours)+":"+e.toDisplayString(s.value.minutes)+":"+e.toDisplayString(s.value.seconds),1)],64))]))}},g={install:(r,u)=>r.component("DateCountdown",c)};o.DateCountdown=c,o.default=g,Object.defineProperties(o,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
