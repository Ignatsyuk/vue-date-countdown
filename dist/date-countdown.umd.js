(function(a,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(a=typeof globalThis<"u"?globalThis:a||self,e(a.DateCountdown={},a.Vue))})(this,function(a,e){"use strict";const D={class:"date-countdown"},c={__name:"DateCountdown",props:{endDate:{type:[Date,Number,String],required:!0},startDate:{type:[Date,Number,String],default:new Date},endText:{type:String},alwaysShowDays:{type:Boolean,default:!1}},setup(r){const l=r,h=e.useSlots(),i=e.ref(100),m=e.ref(void 0),n=e.ref({days:1,hours:1,minutes:1,seconds:1}),o=e.computed(()=>{const t=s=>Number(s)>9?s:`0${s}`;return{days:t(n.value.days),hours:t(n.value.hours),minutes:t(n.value.minutes),seconds:t(n.value.seconds)}}),f=e.computed(()=>{const{seconds:t,minutes:s,hours:u,days:d}=n.value;return!(t>0||s>0||u>0||d>0)});e.onMounted(()=>{p(),m.value=setInterval(p,1e3)}),e.onUnmounted(y);function p(){if(f.value)return y();S(),w()}function S(){const t=Date.parse(new Date(l.endDate).toString())-Date.parse(new Date().toString());t>=0?(n.value.seconds=Math.floor(t/1e3%60),n.value.minutes=Math.floor(t/1e3/60%60),n.value.hours=Math.floor(t/(1e3*60*60)%24),n.value.days=Math.floor(t/(1e3*60*60*24))):(n.value.seconds=n.value.minutes=n.value.hours=n.value.days=0,i.value=0)}function w(){let t=Date.parse(new Date(l.startDate).toString()),s=Date.parse(new Date().toString()),u=Date.parse(new Date(l.endDate).toString()),d=parseFloat((s-t)/(u-t)*100).toFixed(2);i.value=100-d}function y(){clearTimeout(m.value),i.value=0}return(t,s)=>(e.openBlock(),e.createElementBlock("span",D,[f.value&&r.endText?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(r.endText),1)],64)):e.unref(h).default?e.renderSlot(t.$slots,"default",{key:1,days:o.value.days,hours:o.value.hours,minutes:o.value.minutes,seconds:o.value.seconds}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[r.alwaysShowDays||Number(n.value.days)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(o.value.days)+":",1)],64)):e.createCommentVNode("",!0),e.createTextVNode(e.toDisplayString(o.value.hours)+":"+e.toDisplayString(o.value.minutes)+":"+e.toDisplayString(o.value.seconds),1)],64))]))}},g={install:(r,l)=>r.component("DateCountdown",c)};a.DateCountdown=c,a.default=g,Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
